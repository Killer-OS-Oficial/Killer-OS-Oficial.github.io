{"hash":"5bcc1d4821b0045550cd5b5f558e308ca0355581","data":{"markdownPage":{"id":"b4386e4a7348f95d437b0107828bafe9","title":"Автологин","description":"","date":null,"date_up":"13.08.2020","path":"/wiki/config/autologin/","timeToRead":1,"content":"<h1 id=\"автологин\"><a href=\"#%D0%B0%D0%B2%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%BD\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Автологин</h1>\n<h2 id=\"автологин-с-помощью-xinitrc-и-автозапуск-х-после-логина\"><a href=\"#%D0%B0%D0%B2%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%BD-%D1%81-%D0%BF%D0%BE%D0%BC%D0%BE%D1%89%D1%8C%D1%8E-xinitrc-%D0%B8-%D0%B0%D0%B2%D1%82%D0%BE%D0%B7%D0%B0%D0%BF%D1%83%D1%81%D0%BA-%D1%85-%D0%BF%D0%BE%D1%81%D0%BB%D0%B5-%D0%BB%D0%BE%D0%B3%D0%B8%D0%BD%D0%B0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Автологин с помощью .xinitrc и автозапуск Х после логина.</h2>\n<p>В <code>~/.xinitrc</code> необходимо прописать запуск DE, WM. В самом конце файла.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">exec</span> openbox-session</code></pre>\n<p>Добавить в <code>~/.bashrc</code>, Если используем Zsh, то <code>~/.zshrc</code>. Узнать какой у вас шелл, команда: <code>echo $SHELL</code>.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">nano</span> ~/.zshrc</code></pre>\n<p>Добавить наверх, после первой строки <code>#!/usr/bin/env zsh</code></p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token keyword\">if</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">[</span> <span class=\"token operator\">!</span> <span class=\"token environment constant\">$DISPLAY</span> <span class=\"token operator\">&amp;&amp;</span> <span class=\"token environment constant\">$XDG_VTNR</span> -eq <span class=\"token number\">1</span> <span class=\"token punctuation\">]</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span> <span class=\"token keyword\">then</span>\n  <span class=\"token builtin class-name\">exec</span> startx\n<span class=\"token keyword\">fi</span></code></pre>\n<p>Выполнить.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> systemctl <span class=\"token builtin class-name\">enable</span> getty@.service</code></pre>\n<p>Данная команда создаст файл и запустит systemd сервис, просмотреть.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">cat</span> /etc/systemd/system/getty@tty1.service.d/override.conf</code></pre>\n<p>Если нет, то создайте вручную.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> <span class=\"token function\">mkdir</span> /etc/systemd/system/getty@tty1.service.d</code></pre>\n<p>Должно быть так, где user - имя вашего пользователя.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token punctuation\">[</span>Service<span class=\"token punctuation\">]</span>\n<span class=\"token assign-left variable\">ExecStart</span><span class=\"token operator\">=</span>\n<span class=\"token assign-left variable\">ExecStart</span><span class=\"token operator\">=</span>-/usr/bin/agetty --autologin user --noclear %I <span class=\"token environment constant\">$TERM</span></code></pre>\n<p>Отключите login менеджер (lightdm, gdm, lxdm).</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">systemctl disable gdm</code></pre>\n<p>И удалите, если нужно.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> pacman -R gdm</code></pre>\n<h3 id=\"автологин-через-lightdm\"><a href=\"#%D0%B0%D0%B2%D1%82%D0%BE%D0%BB%D0%BE%D0%B3%D0%B8%D0%BD-%D1%87%D0%B5%D1%80%D0%B5%D0%B7-lightdm\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Автологин через Lightdm.</h3>\n<p>Замените st на имя вашего пользователя.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">groupadd</span> -r autologin\ngpasswd -a st autologin\n\n<span class=\"token function\">groupadd</span> -r nopasswdlogin\ngpasswd -a st nopasswdlogin</code></pre>\n<p>Отредактируйте конфиг.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">nano</span> /etc/lightdm/lightdm.conf</code></pre>\n<p>И преведите к такому виду. Замените st на имя вашего пользователя.</p>\n<pre class=\"language-bash\"><code class=\"language-bash\">pam-service<span class=\"token operator\">=</span>lightdm\npam-autologin-service<span class=\"token operator\">=</span>lightdm-autologin\nautologin-user<span class=\"token operator\">=</span>st\nautologin-user-timeout<span class=\"token operator\">=</span><span class=\"token number\">0</span>\nsession-wrapper<span class=\"token operator\">=</span>/etc/lightdm/Xsession</code></pre>\n","sidebar":"wiki","next":"/wiki/config/ssh/","prev":"/wiki/config/trouble/","headings":[{"depth":1,"value":"Автологин","anchor":"#автологин"},{"depth":2,"value":"Автологин с помощью .xinitrc и автозапуск Х после логина.","anchor":"#автологин-с-помощью-xinitrc-и-автозапуск-х-после-логина"},{"depth":3,"value":"Автологин через Lightdm.","anchor":"#автологин-через-lightdm"}]},"allMarkdownPage":{"edges":[{"node":{"path":"/wiki/changelog/bspwm-1-0/","title":"Bspwm 1.0B"}},{"node":{"path":"/wiki/wm/bspwm/","title":"Killer-OS Bspwm"}},{"node":{"path":"/wiki/packages/other-pkg/","title":"Añadir. programas"}},{"node":{"path":"/wiki/packages/iwd/","title":"Iwd wifi"}},{"node":{"path":"/wiki/other/screencast/","title":"Screencast"}},{"node":{"path":"/wiki/other/notes/","title":"Notas"}},{"node":{"path":"/wiki/other/grub-uefi/","title":"Grub UEFI"}},{"node":{"path":"/wiki/other/gnupg/","title":"Gnupg"}},{"node":{"path":"/wiki/other/git-start/","title":"Git Start"}},{"node":{"path":"/wiki/config/videocfg/","title":"Видео драйвера"}},{"node":{"path":"/wiki/config/trouble/","title":"Решение проблем"}},{"node":{"path":"/wiki/config/ssh/","title":"Настройка ssh"}},{"node":{"path":"/wiki/config/recomend/","title":"Рекомендации"}},{"node":{"path":"/wiki/config/autologin/","title":"Автологин"}},{"node":{"path":"/wiki/backup/timeshift-rsync/","title":"Timeshift, rsync"}},{"node":{"path":"/wiki/backup/squashfs/","title":"Squashfs"}},{"node":{"path":"/wiki/changelog/","title":"Changelog"}},{"node":{"path":"/wiki/backup/netcat/","title":"Netcat, ssh, rsync"}},{"node":{"path":"/wiki/btrfs/btrfs-part2/","title":"Btrfs Continuar"}},{"node":{"path":"/wiki/btrfs/btrfs-part1/","title":"Instalación de btrfs"}},{"node":{"path":"/wiki/whois/","title":"Brevemente sobre Killer-OS Linux"}},{"node":{"path":"/wiki/","title":"Killer-OS Linux Wiki"}}]}},"context":{}}